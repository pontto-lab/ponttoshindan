<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã½ã‚“ã£ã¨IQè¨ºæ–­ - ã½ã‚“ã£ã¨ãƒ©ãƒœ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .ad-box { background: #eee; padding: 20px; border: 2px dashed #999; margin: 20px 0; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§  ã½ã‚“ã£ã¨IQè¨ºæ–­</h1>
        
        <div id="game-screen">
            <p id="question-number">ç¬¬ 1 å•</p>
            <div id="quiz-area"></div>
            <h2 id="result-message" style="margin-top: 20px; color: #ff69b2; min-height: 1.5em;"></h2>
            <div id="next-area" style="display: none;">
                <button onclick="nextQuestion()" class="button">ã¤ãã®å•é¡Œã¸ ğŸ‘‰</button>
            </div>
        </div>

        <div id="ad-screen" style="display: none;">
            <h2>æ¡ç‚¹å®Œäº†ï¼âœ¨</h2>
            <p>çµæœã‚’è¦‹ã‚‹æº–å‚™ã¯ã„ã„ã‹ãªï¼Ÿ</p>
            <div class="ad-box">
                <p>ã€PRã€‘ãŠã™ã™ã‚ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªï¼</p>
                <button class="button" onclick="showFinalResult()">CMã‚’è¦‹ã¦çµæœã‚’ç¢ºèªã™ã‚‹</button>
            </div>
        </div>

        <div id="result-screen" style="display: none;">
            <h2 style="color: #ff1493;">è¨ºæ–­çµæœç™ºè¡¨ï¼</h2>
            <div id="iq-display" style="font-size: 32px; font-weight: bold; margin: 20px 0; background: white; padding: 20px; border-radius: 20px;"></div>
            <p id="iq-comment" style="font-size: 20px; color: #555;"></p>
            <br>
            <a href="index.html" class="button">ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</a>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let score = 0;
        const totalQuestions = 10; // æœ€çµ‚çš„ã«10å•ã«ã™ã‚‹

        const questions = {
            1: { img: "question1.png", choices: [{img:"choice-a.png", ok:false}, {img:"choice-b.png", ok:true}, {img:"choice-c.png", ok:false}] },
            2: { img: "question2.png", choices: [{img:"choice-d.png", ok:false}, {img:"choice-f.png", ok:true}, {img:"choice-e.png", ok:false}] },
            // ã“ã“ã«3ã€œ10å•ç›®ã‚’ã©ã‚“ã©ã‚“è¶³ã—ã¦ã„ã‘ã‚‹ã‚ˆï¼
        };

        function showQuestion() {
            const q = questions[currentStep];
            if (!q) { showAd(); return; } // å•é¡ŒãŒãªã‘ã‚Œã°CMç”»é¢ã¸

            document.getElementById('question-number').innerText = "ç¬¬ " + currentStep + " å• / " + totalQuestions;
            document.getElementById('result-message').innerText = "";
            document.getElementById('next-area').style.display = "none";

            let html = `<img src="${q.img}" style="width: 100%; max-width: 400px; border-radius: 15px; margin-bottom: 20px;">`;
            html += `<div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">`;
            q.choices.forEach(c => {
                html += `<button onclick="check(${c.ok})" class="button"><img src="${c.img}" width="80"></button>`;
            });
            html += `</div>`;
            document.getElementById('quiz-area').innerHTML = html;
        }

        function check(isCorrect) {
            const msg = document.getElementById('result-message');
            if (isCorrect) { msg.innerText = "ã›ã„ã‹ã„ï¼å¤©æ‰âœ¨"; score++; }
            else { msg.innerText = "ãŠã—ã„ï¼æ¬¡ã„ã£ã¦ã¿ã‚ˆã†ğŸ’“"; }
            document.getElementById('next-area').style.display = "block";
        }

        function nextQuestion() {
            currentStep++;
            showQuestion();
        }

        function showAd() {
            document.getElementById('game-screen').style.display = "none";
            document.getElementById('ad-screen').style.display = "block";
        }

        function showFinalResult() {
            document.getElementById('ad-screen').style.display = "none";
            document.getElementById('result-screen').style.display = "block";
            
            const iqDisp = document.getElementById('iq-display');
            const iqComm = document.getElementById('iq-comment');
            
            // ãƒˆãƒ¢ã¡ã‚ƒã‚“è€ƒæ¡ˆã®ãƒ©ãƒ³ã‚¯åˆ¤å®šï¼
            if (score === totalQuestions) {
                iqDisp.innerText = "IQ 140";
                iqComm.innerText = "è¶…å¤©æ‰ï¼ç¾ä»£ã®ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³ï¼âœ¨";
            } else if (score >= 8) {
                iqDisp.innerText = "IQ 120";
                iqComm.innerText = "å¤©æ‰ï¼ã•ã¦ã¯ç¥ç«¥ã¨å‘¼ã°ã‚Œã¦ãŸï¼ŸğŸ‘€";
            } else if (score >= 5) {
                iqDisp.innerText = "IQ 100";
                iqComm.innerText = "ã‚„ã‚‹ãªï½ï¼ã§ãã‚‹å­ã£ã¦è¨€ã‚ã‚Œã‚‹ã§ã—ã‚‡ï¼ŸğŸ’ª";
            } else {
                iqDisp.innerText = "IQ 80";
                iqComm.innerText = "å›ã®ãƒšãƒ¼ã‚¹ãŒå¿ƒåœ°ã„ã„ã£ã¦è¨€ã‚ã‚Œãªã„ï¼ŸğŸ’“";
            }
        }

        showQuestion();
    </script>
</body>
</html>
